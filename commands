git clone --recurse-submodules git@github.com:ethayu/diffusion-trait-steering.git
cd dsrl

conda create -n dsrl python=3.9 -y
conda activate dsrl

cd dppo
pip install -e .
pip install -e .[gym]
pip install -e .[robomimic]
cd ..

cd stable-baselines3
pip install -e .
cd ..

next download mujoco (its going to expect mujoco to be in your home dir)
mkdir -p ~/.mujoco
cd ~/.mujoco
wget https://mujoco.org/download/mujoco210-linux-x86_64.tar.gz
tar -xzf mujoco210-linux-x86_64.tar.gz

if you do it right you should see this after the command ls ~/.mujoco/mujoco210
bin  include  model  sample  THIRD_PARTY_NOTICES

then in the conda env,
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$HOME/.mujoco/mujoco210/bin
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/nvidia

and fix numpy version:
pip install "numpy<2.0"

I put the pretrained hopper checkpoint here: 
I see, it seems that any changes made to dppo wont be saved.
Maybe we can think about making a fork of the dppo repo and make the changes there.

but for now you can download the folder with the pretrained weights here:
https://drive.google.com/drive/folders/15W-1Exgl_vSGbgkVEIBoC1PwKGtIbMA7

then put the unzipped folder here:
diffusion-trait-steering/dppo/log

on my end it is here and the only file in the folder is here.
diffusion-trait-steering/dppo/log/gym-pretrain/hopper-medium-v2_pre_diffusion_mlp_ta4_td20/2024-06-12_23-10-05/checkpoint/state_3000.pt

CUDA_VISIBLE_DEVICES=2 python train_dsrl.py --config-path=cfg/gym --config-name=dsrl_hopper.yaml

CUDA_VISIBLE_DEVICES=2 python record_hopper_rollouts.py   model_path=/home/aneeshe/projects/diffusion-trait-steering/logs/gym-dsrl/gym_hopper_dsrl_2025-12-06_00-48-39_1/2025-12-06_00-48-39_1/checkpoint/ft_policy_5000_steps.zip   record_episodes=4